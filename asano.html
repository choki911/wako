<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æœã®ä¼šã‚¢ãƒ—ãƒª - æ¡œãŒä¸˜å®Œå…¨ç‰ˆ</title>
  <style>
    :root {
      --bg-color: #f0f7ff;
      --tab-1: #ffb7b2; --tab-2: #ffdac1; --tab-3: #fff9c4;
      --tab-4: #e2f0cb; --tab-5: #b5ead7; --tab-6: #c7ceea;
    }

    body {
      font-family: 'Yu Gothic', 'Hiragino Kaku Gothic ProN', sans-serif;
      background-color: var(--bg-color);
      margin: 0; display: flex; height: 100vh; overflow: hidden;
    }

    /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ */
    .sidebar { width: 100px; display: flex; flex-direction: column; height: 100%; }
    .tab {
      flex: 1; display: flex; align-items: center; justify-content: center;
      cursor: pointer; writing-mode: vertical-rl; text-orientation: upright;
      font-weight: bold; font-size: 1rem; border: 1px solid rgba(0,0,0,0.05);
      transition: all 0.2s; opacity: 0.8;
    }
    .tab.active { width: 120px; opacity: 1; z-index: 10; font-size: 1.1rem; }
    .sidebar-left .tab.active { border-radius: 0 15px 15px 0; box-shadow: 5px 0 10px rgba(0,0,0,0.1); }
    .sidebar-right .tab.active { border-radius: 15px 0 0 15px; box-shadow: -5px 0 10px rgba(0,0,0,0.1); }

    /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */
    .main-container {
      flex: 1; background: white; margin: 10px; border-radius: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      padding: 20px; text-align: center; position: relative;
    }

    .page { display: none; width: 100%; height: 100%; flex-direction: column; align-items: center; justify-content: center; }
    .page.active { display: flex; animation: fadeIn 0.3s; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    /* ãƒœã‚¿ãƒ³ãƒ»ã‚«ãƒ¼ãƒ‰ */
    .action-btn {
      padding: 25px 50px; font-size: 2rem; font-weight: bold; color: white;
      border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 8px 15px rgba(0,0,0,0.2);
      margin: 10px; transition: transform 0.1s;
    }
    .action-btn:active { transform: translateY(4px); }

    .grid-container {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px; width: 95%; max-height: 70%; overflow-y: auto; padding: 10px;
    }
    .card {
      background: #f8f9fa; padding: 20px; border-radius: 15px; font-size: 1.4rem;
      font-weight: bold; border: 4px solid #eee; cursor: pointer;
    }
    .card.selected { background: #e2f0cb; border-color: #b5ead7; }

    /* å„ãƒšãƒ¼ã‚¸å›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    #page1 .btn-greet { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
    #page1 .btn-song { background: #ff7f50; box-shadow: 0 8px 0 #d35400; } /* æœã®æ­Œ2.htmlã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
    
    #page2 .btn-yobina { background: #2ecc71; box-shadow: 0 8px 0 #27ae60; margin-bottom: 20px; } /* å‘¼å.htmlã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
    
    #page3 .action-btn { background: linear-gradient(135deg, #a1c4fd, #c2e9fb); font-size: 1.5rem; }
    #page5 .action-btn { background: linear-gradient(135deg, #f5576c, #f093fb); font-size: 1.5rem; }
    
    .date-info { font-size: 2.5rem; font-weight: bold; margin-bottom: 10px; }
    .weather-box { font-size: 1.2rem; color: #555; margin-bottom: 20px; }
    .menu-box { background: #fff5f8; border-radius: 20px; padding: 20px; width: 80%; margin-bottom: 20px; }
    .menu-item { font-size: 1.4rem; margin: 5px 0; text-align: left; padding-left: 15%; }
  </style>
</head>
<body>

  <audio id="morningMusic" src="music.mp3"></audio> <audio id="yobinaMusic" src="å‘¼å.mp3"></audio> <div class="sidebar sidebar-left">
    <div class="tab tab-i-1" style="background-color: var(--tab-1)" onclick="showPage(1)">1 ã‚ã„ã•ã¤</div>
    <div class="tab tab-i-2" style="background-color: var(--tab-2)" onclick="showPage(2)">2 å‘¼å</div>
    <div class="tab tab-i-3" style="background-color: var(--tab-3)" onclick="showPage(3)">3 æ—¥ä»˜å¤©æ°—</div>
    <div class="tab tab-i-4" style="background-color: var(--tab-4)" onclick="showPage(4)">4 äºˆå®š</div>
    <div class="tab tab-i-5" style="background-color: var(--tab-5)" onclick="showPage(5)">5 çµ¦é£Ÿ</div>
    <div class="tab tab-i-6" style="background-color: var(--tab-6)" onclick="showPage(6)">6 ãŠã‚ã‚Š</div>
  </div>

  <div class="main-container">
    
    <div class="page" id="page1">
      <button class="action-btn btn-song" onclick="playMusic()">â˜€ï¸ æœã®æ­Œ</button> <button class="action-btn btn-greet" onclick="playGreetingStart()">ã¯ã˜ã¾ã‚Šã®æŒ¨æ‹¶</button>
    </div>

    <div class="page" id="page2">
      <button class="action-btn btn-yobina" onclick="playYobina()">ğŸ“¢ å‘¼å (BGM)</button> <div class="grid-container" id="rollCallList">
        <div class="card" onclick="callName(this, 'ãŸã‚ã† å›')">ãŸã‚ã† å›</div>
        <div class="card" onclick="callName(this, 'ã˜ã‚ã† å›')">ã˜ã‚ã† å›</div>
        <div class="card" onclick="callName(this, 'ã•ã¶ã‚ã† å›')">ã•ã¶ã‚ã† å›</div>
        <div class="card" onclick="callName(this, 'ã¯ãªã“ ã•ã‚“')">ã¯ãªã“ ã•ã‚“</div>
        <div class="card" onclick="callName(this, 'ã‚ˆã—ã“ ã•ã‚“')">ã‚ˆã—ã“ ã•ã‚“</div>
      </div>
    </div>

    <div class="page" id="page3">
      <input type="date" id="mainDatePicker" onchange="onDateChange()" style="font-size: 1.2rem; margin-bottom: 20px;">
      <div id="dateDisplay" class="date-info"></div>
      <div class="weather-box">
        <div>åƒè‘‰å¸‚è‹¥è‘‰åŒºåŠ æ›½åˆ©ç”º</div>
        <div style="font-size: 5rem;">â˜ï¸</div>
        <div>ãã‚‚ã‚Š (12â„ƒ / 6â„ƒ)</div>
      </div>
      <button class="action-btn" onclick="playWeatherInfo()">æ—¥ä»˜ãƒ»å¤©æ°—ã‚’ç™ºè¡¨</button>
    </div>

    <div class="page" id="page4">
      <h2 style="color: #4cbb6e;">ãã‚‡ã†ã®ã‚ˆã¦ã„</h2>
      <div class="grid-container" id="scheduleList"></div>
    </div>

    <div class="page" id="page5">
      <h2 style="color: #f5576c;">ğŸ´ ãã‚‡ã†ã®ãã‚…ã†ã—ã‚‡ã ğŸ´</h2>
      <div id="menuContent" class="menu-box">æ—¥ä»˜ã‚’é¸ã‚“ã§ã­</div>
      <button class="action-btn" onclick="playMenu()">çµ¦é£Ÿã‚’ç™ºè¡¨ï¼</button>
    </div>

    <div class="page" id="page6">
      <button class="action-btn btn-greet" onclick="playGreetingEnd()">ãŠã‚ã‚Šã®æŒ¨æ‹¶</button>
    </div>

  </div>

  <div class="sidebar sidebar-right">
    <div class="tab tab-i-1" style="background-color: var(--tab-1)" onclick="showPage(1)">1.ã‚ã„ã•ã¤</div>
    <div class="tab tab-i-2" style="background-color: var(--tab-2)" onclick="showPage(2)">2.å‘¼å</div>
    <div class="tab tab-i-3" style="background-color: var(--tab-3)" onclick="showPage(3)">3.æ—¥ä»˜å¤©æ°—</div>
    <div class="tab tab-i-4" style="background-color: var(--tab-4)" onclick="showPage(4)">4.äºˆå®š</div>
    <div class="tab tab-i-5" style="background-color: var(--tab-5)" onclick="showPage(5)">5.çµ¦é£Ÿ</div>
    <div class="tab tab-i-6" style="background-color: var(--tab-6)" onclick="showPage(6)">6.ãŠã‚ã‚Š</div>
  </div>

  <script>
    // --- çµ±åˆãƒ‡ãƒ¼ã‚¿ ---
    const SCHEDULE_DB = {
      "2026-02-24": [{subject:"æœã®ä¼š",icon:"ğŸŒ…"},{subject:"èª²é¡Œå­¦ç¿’",icon:"âœï¸"},{subject:"ç”Ÿæ´»å˜å…ƒå­¦ç¿’",unit:"ã‚ã‚ŠãŒã¨ã†ã‚’ä¼ãˆã‚ˆã†",icon:"ğŸ’"},{subject:"èº«ä½“ã®å‹•ã",icon:"ğŸ¤¸"},{subject:"çµ¦é£Ÿ",icon:"ğŸ±"},{subject:"åˆå¾Œã®ãŠå‹‰å¼·",icon:"ğŸ“–"}],
      "2026-02-25": [{subject:"æœã®ä¼š",icon:"ğŸŒ…"},{subject:"éŸ³æ¥½",unit:"å­£ç¯€ã®æ­Œ",icon:"ğŸµ"},{subject:"å›³å·¥",unit:"é€²ç´šåˆ¶ä½œ",icon:"ğŸ¨"},{subject:"ç”Ÿæ´»å˜å…ƒå­¦ç¿’",unit:"ã‚ã‚ŠãŒã¨ã†ã‚’ä¼ãˆã‚ˆã†",icon:"ğŸ’"},{subject:"çµ¦é£Ÿ",icon:"ğŸ±"},{subject:"åˆå¾Œã®ãŠå‹‰å¼·",icon:"ğŸ“–"}],
      "2026-02-26": [{subject:"æœã®ä¼š",icon:"ğŸŒ…"},{subject:"èº«ä½“ã®å‹•ã",icon:"ğŸ¤¸"},{subject:"ç”Ÿæ´»å˜å…ƒå­¦ç¿’",unit:"ã‚ã‚ŠãŒã¨ã†ã‚’ä¼ãˆã‚ˆã†",icon:"ğŸ’"},{subject:"çµ¦é£Ÿ",icon:"ğŸ±"},{subject:"åˆå¾Œã®ãŠå‹‰å¼·",icon:"ğŸ“–"}],
      "2026-02-27": [{subject:"æœã®ä¼š",icon:"ğŸŒ…"},{subject:"å­¦å¹´é›†ä¼š",icon:"ğŸ‘¥"},{subject:"å›³å·¥",unit:"é€²ç´šåˆ¶ä½œ",icon:"ğŸ¨"},{subject:"çµ¦é£Ÿ",icon:"ğŸ±"},{subject:"åˆå¾Œã®ãŠå‹‰å¼·",icon:"ğŸ“–"}]
    }; //

    const MENU_DB = {
      24: { menu: ['ã”ã¯ã‚“', 'ãƒãƒ ã‚«ãƒ„', 'è’¸ã—é‡èœæ·»ãˆ', 'æ˜¥é›¨ã‚µãƒ©ãƒ€', 'è±šæ±', 'ã‚Šã‚“ã”'], hasMilk: true },
      25: { menu: ['é£Ÿãƒ‘ãƒ³', 'ãƒ¬ãƒ¼ã‚ºãƒ³ã‚¯ãƒªãƒ¼ãƒ ', 'é±ˆã®ãƒ›ã‚¤ãƒ«ç„¼ã', 'é‡èœç‚’ã‚', 'ã˜ã‚ƒãŒã„ç›®ã®ã‚³ãƒ³ã‚½ãƒ¡ç…®', 'è±†è…ã®ã‚¹ãƒ¼ãƒ—', 'ã‚ªãƒ¬ãƒ³ã‚¸'], hasMilk: true },
      26: { menu: ['ãƒãƒ£ãƒ¼ãƒãƒ³', 'ã‚ã‚“ã‹ã‘ã‚«ãƒƒãƒ—ç„¼å£²', 'é‡èœç‚’ã‚', 'ã‚¹ãƒ¼ãƒ—', 'ãƒŸãƒƒã‚¯ã‚¹ãƒ™ãƒªãƒ¼ã‚¼ãƒªãƒ¼'], hasMilk: true },
      27: { menu: ['ã€æ–°æ½Ÿã€‘ã”ã¯ã‚“', 'é®­ã®ç„¼ãæ¼¬ã‘', 'è»Šéº©ã®æšã’ç…®', 'ã®ã£ãº', 'é¶æ±', 'ã„ã‚‚ã‚‚ã¡'], hasMilk: true }
    }; //

    let currentPage = 1;

    window.onload = () => {
      const today = new Date();
      const y = today.getFullYear();
      const m = String(today.getMonth() + 1).padStart(2, '0');
      const d = String(today.getDate()).padStart(2, '0');
      document.getElementById('mainDatePicker').value = `${y}-${m}-${d}`;
      onDateChange();
      showPage(1);
    };

    function showPage(num) {
      currentPage = num;
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById('page' + num).classList.add('active');
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-i-' + num).forEach(t => t.classList.add('active'));
    }

    // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
    window.addEventListener('keydown', (e) => {
      if (e.key.toLowerCase() === 'p' || e.key === 'Enter') {
        if (currentPage === 1) playMusic(); // 1ãƒšãƒ¼ã‚¸ç›®ã¯æœã®æ­Œ
        if (currentPage === 2) playYobina(); // 2ãƒšãƒ¼ã‚¸ç›®ã¯å‘¼åBGM
        if (currentPage === 3) playWeatherInfo();
        if (currentPage === 5) playMenu();
        if (currentPage === 6) playGreetingEnd();
      }
    });

    // æœã®æ­Œ å†ç”Ÿ
    function playMusic() {
      const music = document.getElementById('morningMusic');
      music.currentTime = 0;
      music.play().catch(err => console.log("å†ç”Ÿã‚¨ãƒ©ãƒ¼: music.mp3ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"));
    }

    // å‘¼åBGM å†ç”Ÿ
    function playYobina() {
      const music = document.getElementById('yobinaMusic');
      music.currentTime = 0;
      music.play().catch(err => console.log("å†ç”Ÿã‚¨ãƒ©ãƒ¼: å‘¼å.mp3ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"));
    }

    function onDateChange() {
      const dateVal = document.getElementById('mainDatePicker').value;
      const dateObj = new Date(dateVal);
      const days = ['æ—¥','æœˆ','ç«','æ°´','æœ¨','é‡‘','åœŸ'];
      document.getElementById('dateDisplay').innerText = `${dateObj.getMonth()+1}æœˆ${dateObj.getDate()}æ—¥ (${days[dateObj.getDay()]})`;
      renderSchedule(dateVal);
      renderMenu(dateObj.getDate());
    }

    function renderSchedule(dateStr) {
      const container = document.getElementById('scheduleList');
      container.innerHTML = '';
      const list = SCHEDULE_DB[dateStr] || [{subject: "ãŠã‚„ã™ã¿", icon: "ğŸ "}];
      list.forEach(item => {
        const div = document.createElement('div');
        div.className = 'card';
        div.innerHTML = `<span style="font-size:2rem">${item.icon}</span><br>${item.subject}${item.unit ? '<br><small>ã€Œ'+item.unit+'ã€</small>' : ''}`;
        div.onclick = () => {
          div.classList.toggle('selected');
          speak(`${item.subject}ã€${item.unit || ''}ã®æ™‚é–“ã§ã™ã€‚`);
        };
        container.appendChild(div);
      });
    }

    function renderMenu(day) {
      const content = document.getElementById('menuContent');
      const data = MENU_DB[day];
      if (!data) {
        content.innerHTML = "ä»Šæ—¥ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯ã‚ã‚Šã¾ã›ã‚“";
        return;
      }
      content.innerHTML = data.menu.map(m => `<div class="menu-item">âœ¨ ${m}</div>`).join('') 
                        + (data.hasMilk ? '<div style="color:blue; font-weight:bold; margin-top:10px;">ğŸ¥› ç‰›ä¹³ã‚‚ã¤ãã‚ˆ</div>' : '');
    }

    function playMenu() {
      const day = new Date(document.getElementById('mainDatePicker').value).getDate();
      const data = MENU_DB[day];
      if (data) speak(`ä»Šæ—¥ã®çµ¦é£Ÿã¯ã€${data.menu.join('ã€')}ã€‚ãã‚Œã‹ã‚‰ã€ç‰›ä¹³ã§ã™ã€‚`); //
      else speak("ä»Šæ—¥ã®çµ¦é£Ÿã¯ãŠä¼‘ã¿ã§ã™ã€‚");
    }

    function callName(el, name) {
      el.classList.toggle('selected');
      speak(name + "ã•ã‚“ã€ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼");
    }

    function playGreetingStart() { speak("ã“ã‚Œã‹ã‚‰æœã®ä¼šã‚’å§‹ã‚ã¾ã™ã€‚æ°—ã‚’ã¤ã‘ã€‚ã‚Œã„ï¼"); }
    function playGreetingEnd() { speak("ã“ã‚Œã§æœã®ä¼šã‚’çµ‚ã‚ã‚Šã¾ã™ã€‚æ°—ã‚’ã¤ã‘ã€‚ã‚Œã„ï¼"); }
    function playWeatherInfo() {
      const d = document.getElementById('dateDisplay').innerText;
      speak(`ä»Šæ—¥ã¯${d}ã§ã™ã€‚åƒè‘‰å¸‚è‹¥è‘‰åŒºåŠ æ›½åˆ©ç”ºã®å¤©æ°—ã¯ã€ãã‚‚ã‚Šã€‚æœ€é«˜æ°—æ¸©ã¯12åº¦ã€æœ€ä½æ°—æ¸©ã¯6åº¦ã§ã™ã€‚`);
    }

    function speak(text) {
      window.speechSynthesis.cancel();
      const uttr = new SpeechSynthesisUtterance(text);
      uttr.lang = 'ja-JP';
      window.speechSynthesis.speak(uttr);
    }
  </script>
</body>
</html>
