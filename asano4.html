<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æœã®ä¼šã‚¢ãƒ—ãƒª - æ¡œãŒä¸˜ ç‰¹åˆ¥æ”¯æ´å­¦æ ¡ç‰ˆï¼ˆä¿®æ­£ç‰ˆï¼‰</title>
  <style>
    /* åŸºæœ¬è¨­å®š */
    :root {
      --bg-color: #f7f9fc;
      --tab-1: #ffb7b2; --tab-2: #ffdac1; --tab-3: #fff9c4;
      --tab-4: #e2f0cb; --tab-5: #b5ead7; --tab-6: #c7ceea;
    }

    body {
      font-family: 'Yu Gothic', 'Hiragino Kaku Gothic ProN', sans-serif;
      background-color: var(--bg-color);
      margin: 0; display: flex; height: 100vh; overflow: hidden;
    }

    /* å·¦å³ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ */
    .sidebar { width: 100px; display: flex; flex-direction: column; height: 100%; }
    .tab {
      flex: 1; display: flex; align-items: center; justify-content: center;
      cursor: pointer; writing-mode: vertical-rl; text-orientation: upright;
      font-weight: bold; font-size: 1.1rem; border: 1px solid rgba(0,0,0,0.05);
      transition: all 0.2s; opacity: 0.7;
    }
    .tab.active { width: 125px; opacity: 1; z-index: 10; font-size: 1.2rem; }
    .sidebar-left .tab.active { border-radius: 0 20px 20px 0; box-shadow: 5px 0 15px rgba(0,0,0,0.1); }
    .sidebar-right .tab.active { border-radius: 20px 0 0 20px; box-shadow: -5px 0 15px rgba(0,0,0,0.1); }

    /* ãƒ¡ã‚¤ãƒ³ã‚¨ãƒªã‚¢ */
    .main-container {
      flex: 1; background: white; margin: 15px; border-radius: 40px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      padding: 30px; text-align: center; position: relative;
    }

    .page { display: none; width: 100%; height: 100%; flex-direction: column; align-items: center; justify-content: center; }
    .page.active { display: flex; animation: fadeIn 0.4s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* ãƒœã‚¿ãƒ³å…±é€š */
    .action-btn {
      padding: 25px 50px; font-size: 2.2rem; font-weight: bold; color: white;
      border: none; border-radius: 60px; cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.15);
      margin: 15px; transition: all 0.1s; width: 80%; max-width: 550px;
    }
    .action-btn:active { transform: scale(0.98) translateY(5px); box-shadow: 0 5px 10px rgba(0,0,0,0.1); }

    /* ãƒšãƒ¼ã‚¸ã”ã¨ã®ãƒœã‚¿ãƒ³è‰² */
    .btn-greet { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
    .btn-song { background-color: #ff7f50; box-shadow: 0 10px 0 #d35400; }
    .btn-yobina { background-color: #2ecc71; box-shadow: 0 10px 0 #27ae60; padding: 45px; font-size: 3.2rem; }
    .btn-weather { background: linear-gradient(135deg, #a1c4fd, #c2e9fb); color: #333; font-size: 1.8rem; }
    .btn-schedule { background: linear-gradient(135deg, #84fab0, #8fd3f4); color: #2d5a27; font-size: 1.8rem; }
    .btn-lunch { background: linear-gradient(135deg, #f5576c, #f093fb); font-size: 1.8rem; }

    /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºç”¨ */
    .date-text { font-size: 3rem; font-weight: bold; margin-bottom: 10px; color: #333; }
    .weather-box { background: #fdfcf0; border-radius: 30px; padding: 20px; width: 85%; margin-bottom: 20px; border: 2px solid #fee1a0; }
    .weather-icon { font-size: 90px; }
    .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; width: 95%; max-height: 60%; overflow-y: auto; padding: 10px; margin-bottom: 10px; }
    .card { background: #f9f9f9; padding: 20px; border-radius: 20px; font-size: 1.6rem; font-weight: bold; border: 5px solid #eee; cursor: pointer; }
    .card.selected { background: #e2f0cb; border-color: #b5ead7; }
    .menu-box { background: #fff5f8; border-radius: 25px; padding: 25px; width: 85%; margin-bottom: 20px; }
    .menu-item { font-size: 1.6rem; margin: 8px 0; text-align: left; padding-left: 15%; color: #444; }
  </style>
</head>
<body>

  <audio id="audioSong" src="music.mp3"></audio>
  <audio id="audioYobina" src="å‘¼å.mp3"></audio>

  <div class="sidebar sidebar-left">
    <div class="tab tab-t-1" style="background-color: var(--tab-1)" onclick="showPage(1)">1.ã‚ã„ã•ã¤</div>
    <div class="tab tab-t-2" style="background-color: var(--tab-2)" onclick="showPage(2)">2.å‘¼å</div>
    <div class="tab tab-t-3" style="background-color: var(--tab-3)" onclick="showPage(3)">3.æ—¥ä»˜å¤©æ°—</div>
    <div class="tab tab-t-4" style="background-color: var(--tab-4)" onclick="showPage(4)">4.äºˆå®š</div>
    <div class="tab tab-t-5" style="background-color: var(--tab-5)" onclick="showPage(5)">5.çµ¦é£Ÿ</div>
    <div class="tab tab-t-6" style="background-color: var(--tab-6)" onclick="showPage(6)">6.ãŠã‚ã‚Š</div>
  </div>

  <div class="main-container">
    
    <div class="page" id="page1">
      <button class="action-btn btn-greet" onclick="speak('ã“ã‚Œã‹ã‚‰æœã®ä¼šã‚’å§‹ã‚ã¾ã™ã€‚æ°—ã‚’ã¤ã‘ã€‚ã‚Œã„ï¼')">ã¯ã˜ã¾ã‚Šã®æŒ¨æ‹¶</button>
      <button class="action-btn btn-song" onclick="playSong()">â˜€ï¸ æœã®æ­Œ</button>
    </div>

    <div class="page" id="page2">
      <button class="action-btn btn-yobina" onclick="playYobina()">ğŸ“¢ å‘¼å (BGM)</button>
    </div>

    <div class="page" id="page3">
      <div id="dateDisplay" class="date-text"></div>
      <div class="weather-box" id="weatherBox">
        <div id="weatherLoading">å¤©æ°—ã‚’å–å¾—ã—ã¦ã„ã¾ã™...</div>
        <div id="weatherContent" style="display:none;">
          <div id="weatherIcon" class="weather-icon"></div>
          <div id="weatherLabel" style="font-size: 2rem; font-weight: bold;"></div>
          <div id="weatherTemp" style="font-size: 1.5rem; margin-top:10px;"></div>
        </div>
      </div>
      <button class="action-btn btn-weather" onclick="speakWeather()">æ—¥ä»˜ã¨å¤©æ°—ã‚’ç™ºè¡¨</button>
    </div>

    <div class="page" id="page4">
      <h2 style="color: #4cbb6e; font-size: 2rem; margin: 0 0 10px 0;">ãã‚‡ã†ã®ã‚ˆã¦ã„</h2>
      <div class="grid-container" id="scheduleList"></div>
      <button class="action-btn btn-schedule" onclick="speakSchedule()">äºˆå®šã‚’ç™ºè¡¨ã™ã‚‹</button>
    </div>

    <div class="page" id="page5">
      <h2 style="color: #f5576c; font-size: 2rem; margin: 0 0 10px 0;">ğŸ´ ãã‚‡ã†ã®ãã‚…ã†ã—ã‚‡ã ğŸ´</h2>
      <div id="menuContent" class="menu-box"></div>
      <button class="action-btn btn-lunch" onclick="speakLunch()">çµ¦é£Ÿã‚’ç™ºè¡¨ï¼</button>
    </div>

    <div class="page" id="page6">
      <button class="action-btn btn-greet" onclick="speak('ã“ã‚Œã§æœã®ä¼šã‚’çµ‚ã‚ã‚Šã¾ã™ã€‚æ°—ã‚’ã¤ã‘ã€‚ã‚Œã„ï¼')">ãŠã‚ã‚Šã®æŒ¨æ‹¶</button>
    </div>

  </div>

  <div class="sidebar sidebar-right">
    <div class="tab tab-t-1" style="background-color: var(--tab-1)" onclick="showPage(1)">1.ã‚ã„ã•ã¤</div>
    <div class="tab tab-t-2" style="background-color: var(--tab-2)" onclick="showPage(2)">2.å‘¼å</div>
    <div class="tab tab-t-3" style="background-color: var(--tab-3)" onclick="showPage(3)">3.æ—¥ä»˜å¤©æ°—</div>
    <div class="tab tab-t-4" style="background-color: var(--tab-4)" onclick="showPage(4)">4.äºˆå®š</div>
    <div class="tab tab-t-5" style="background-color: var(--tab-5)" onclick="showPage(5)">5.çµ¦é£Ÿ</div>
    <div class="tab tab-t-6" style="background-color: var(--tab-6)" onclick="showPage(6)">6.ãŠã‚ã‚Š</div>
  </div>

  <script>
    /* --- ãƒ‡ãƒ¼ã‚¿å®šç¾© --- */
    const SCHEDULE_DB = {
      "2026-02-24": [{s:"æœã®ä¼š",i:"ğŸŒ…"},{s:"èª²é¡Œå­¦ç¿’",i:"âœï¸"},{s:"ç”Ÿæ´»å˜å…ƒå­¦ç¿’",i:"ğŸ’"},{s:"èº«ä½“ã®å‹•ã",i:"ğŸ¤¸"},{s:"çµ¦é£Ÿ",i:"ğŸ±"},{s:"åˆå¾Œã®ãŠå‹‰å¼·",i:"ğŸ“–"}],
      "2026-02-25": [{s:"æœã®ä¼š",i:"ğŸŒ…"},{s:"éŸ³æ¥½",i:"ğŸµ"},{s:"å›³å·¥",i:"ğŸ¨"},{s:"ç”Ÿæ´»å˜å…ƒå­¦ç¿’",i:"ğŸ’"},{s:"çµ¦é£Ÿ",i:"ğŸ±"},{s:"åˆå¾Œã®ãŠå‹‰å¼·",i:"ğŸ“–"}],
      "2026-02-26": [{s:"æœã®ä¼š",i:"ğŸŒ…"},{s:"èº«ä½“ã®å‹•ã",i:"ğŸ¤¸"},{s:"ç”Ÿæ´»å˜å…ƒå­¦ç¿’",i:"ğŸ’"},{s:"çµ¦é£Ÿ",i:"ğŸ±"},{s:"åˆå¾Œã®ãŠå‹‰å¼·",i:"ğŸ“–"}],
      "2026-02-27": [{s:"æœã®ä¼š",i:"ğŸŒ…"},{s:"å­¦å¹´é›†ä¼š",i:"ğŸ‘¥"},{s:"å›³å·¥",i:"ğŸ¨"},{s:"çµ¦é£Ÿ",i:"ğŸ±"},{s:"åˆå¾Œã®ãŠå‹‰å¼·",i:"ğŸ“–"}]
    };

    const MENU_DB = {
      24: { m: ['ã”ã¯ã‚“', 'ãƒãƒ ã‚«ãƒ„', 'è’¸ã—é‡èœæ·»ãˆ', 'æ˜¥é›¨ã‚µãƒ©ãƒ€', 'è±šæ±', 'ã‚Šã‚“ã”'], milk: true },
      25: { m: ['é£Ÿãƒ‘ãƒ³', 'ãƒ¬ãƒ¼ã‚ºãƒ³ã‚¯ãƒªãƒ¼ãƒ ', 'é±ˆã®ãƒ›ã‚¤ãƒ«ç„¼ã', 'é‡èœç‚’ã‚', 'ã˜ã‚ƒãŒã„ã‚‚ã®ã‚³ãƒ³ã‚½ãƒ¡ç…®', 'è±†è…ã®ã‚¹ãƒ¼ãƒ—', 'ã‚ªãƒ¬ãƒ³ã‚¸'], milk: true },
      26: { m: ['ãƒãƒ£ãƒ¼ãƒãƒ³', 'ã‚ã‚“ã‹ã‘ã‚«ãƒƒãƒ—ç„¼å£²', 'é‡èœç‚’ã‚', 'ã‚¹ãƒ¼ãƒ—', 'ãƒŸãƒƒã‚¯ã‚¹ãƒ™ãƒªãƒ¼ã‚¼ãƒªãƒ¼'], milk: true },
      27: { m: ['ã€æ–°æ½Ÿã€‘ã”ã¯ã‚“', 'é®­ã®ç„¼ãæ¼¬ã‘', 'è»Šéº©ã®æšã’ç…®', 'ã®ã£ãº', 'é¶æ±', 'ã„ã‚‚ã‚‚ã¡'], milk: true }
    };

    let currentPage = 1;
    let weatherSpeech = "";

    window.onload = () => {
      initDate();
      fetchWeather();
      renderSchedule();
      renderMenu();
      showPage(1);
    };

    function showPage(num) {
      currentPage = num;
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById('page' + num).classList.add('active');
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-t-' + num).forEach(t => t.classList.add('active'));
      window.speechSynthesis.cancel();
    }

    function initDate() {
      const now = new Date();
      const days = ['æ—¥','æœˆ','ç«','æ°´','æœ¨','é‡‘','åœŸ'];
      document.getElementById('dateDisplay').innerText = `${now.getMonth()+1}æœˆ${now.getDate()}æ—¥ (${days[now.getDay()]})`;
    }

    /* å¤©æ°—å–å¾— */
    async function fetchWeather() {
      const lat = 35.6186, lon = 140.1554;
      try {
        const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=weathercode,temperature_2m_max,temperature_2m_min&timezone=Asia%2FTokyo`);
        const data = await res.json();
        const code = data.daily.weathercode[0];
        const weatherMap = { 0:"å¿«æ™´", 1:"æ™´ã‚Œ", 2:"æ™´ã‚Œã®ã¡æ›‡ã‚Š", 3:"ãã‚‚ã‚Š", 61:"å°é›¨", 63:"é›¨" };
        const label = weatherMap[code] || "ãã‚‚ã‚Š";
        const tMax = Math.round(data.daily.temperature_2m_max[0]);
        const tMin = Math.round(data.daily.temperature_2m_min[0]);

        document.getElementById('weatherLoading').style.display = 'none';
        document.getElementById('weatherContent').style.display = 'block';
        document.getElementById('weatherIcon').innerText = code < 3 ? "â˜€ï¸" : "â˜ï¸";
        document.getElementById('weatherLabel').innerText = label;
        document.getElementById('weatherTemp').innerText = `æœ€é«˜ ${tMax}â„ƒ / æœ€ä½ ${tMin}â„ƒ`;
        
        weatherSpeech = `ä»Šæ—¥ã®å¤©æ°—ã¯${label}ã§ã™ã€‚æœ€é«˜æ°—æ¸©ã¯${tMax}åº¦ã€æœ€ä½æ°—æ¸©ã¯${tMin}åº¦ã§ã™ã€‚`;
      } catch (e) { document.getElementById('weatherLoading').innerText = "å¤©æ°—èª­ã¿è¾¼ã¿å¤±æ•—"; }
    }

    function speakWeather() { speak(document.getElementById('dateDisplay').innerText + weatherSpeech); }

    /* äºˆå®šã®æç”»ã¨ç™ºè¡¨ */
    function renderSchedule() {
      const today = new Date().toISOString().split('T')[0];
      const items = SCHEDULE_DB[today] || [{s:"å…ˆç”Ÿã«èã„ã¦ã­", i:"ğŸ "}];
      const container = document.getElementById('scheduleList');
      container.innerHTML = "";
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `<span style="font-size:2rem">${item.i}</span><br>${item.s}`;
        card.onclick = () => { card.classList.toggle('selected'); speak(item.s + "ã®æ™‚é–“ã§ã™ã€‚"); };
        container.appendChild(card);
      });
    }

    function speakSchedule() {
      const today = new Date().toISOString().split('T')[0];
      const items = SCHEDULE_DB[today];
      if (items) {
        const text = "ä»Šæ—¥ã®äºˆå®šã‚’ç™ºè¡¨ã—ã¾ã™ã€‚" + items.map(i => i.s).join("ã€") + "ã€ã®é †ç•ªã§ã™ã€‚";
        speak(text);
      } else {
        speak("ä»Šæ—¥ã®äºˆå®šã¯ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚å…ˆç”Ÿã«èã„ã¦ãã ã•ã„ã€‚");
      }
    }

    /* çµ¦é£Ÿã®æç”»ã¨ç™ºè¡¨ */
    function renderMenu() {
      const day = new Date().getDate();
      const data = MENU_DB[day];
      const container = document.getElementById('menuContent');
      if (data) {
        container.innerHTML = data.m.map(item => `<div class="menu-item">âœ¨ ${item}</div>`).join('')
                            + (data.milk ? '<div style="color:blue; font-weight:bold; margin-top:10px;">ğŸ¥› ç‰›ä¹³ã‚‚ã¤ãã‚ˆ</div>' : '');
      } else { container.innerHTML = "ä»Šæ—¥ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯ãŠä¼‘ã¿ã§ã™ã€‚"; }
    }

    function speakLunch() {
      const day = new Date().getDate();
      const data = MENU_DB[day];
      if (data) speak(`ä»Šæ—¥ã®çµ¦é£Ÿã¯ã€${data.m.join('ã€')}ã€ãã‚Œã‹ã‚‰ç‰›ä¹³ã§ã™ã€‚`);
      else speak("ä»Šæ—¥ã®çµ¦é£Ÿã¯ãŠä¼‘ã¿ã§ã™ã€‚");
    }

    /* éŸ³å£°åˆ¶å¾¡ */
    function speak(text) {
      window.speechSynthesis.cancel();
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'ja-JP';
      window.speechSynthesis.speak(u);
    }

    function playSong() { document.getElementById('audioSong').currentTime = 0; document.getElementById('audioSong').play(); }
    function playYobina() { document.getElementById('audioYobina').currentTime = 0; document.getElementById('audioYobina').play(); }

    /* ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ */
    window.addEventListener('keydown', (e) => {
      if (e.key.toLowerCase() === 'p') {
        if (currentPage === 1) playSong();
        if (currentPage === 2) playYobina();
        if (currentPage === 3) speakWeather();
        if (currentPage === 4) speakSchedule();
        if (currentPage === 5) speakLunch();
        if (currentPage === 6) speak('ã“ã‚Œã§æœã®ä¼šã‚’çµ‚ã‚ã‚Šã¾ã™ã€‚æ°—ã‚’ã¤ã‘ã€‚ã‚Œã„ï¼');
      }
    });
  </script>
</body>
</html>
